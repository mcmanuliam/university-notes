{"path":"software engineering/year 2/semester 1/Practical Algorithms/Slides/7. Counting/Permutations.pdf","text":"Counting (a.k.a. Combinatorics) Counting • Product rule • Sum rule and the inclusion-exclusion principle • Combining product rule and sum rule • Pigeon-hole principle • Permutations and combinations 2 PERMUTATIONS & COMBINATIONS 3 Motivating Problem The Travelling Salesman problem: a salesperson has to visit n cities and return to his base − in how many ways can he do this? − e.g., • Glasgow -> Edinburgh -> Livingston -> Stirling -> Perth (Scotland!) • Glasgow -> Livingston -> Edinburgh -> Stirling -> Perth (Scotland!) • ... 4 Permutations Definition: A permutation of a set of distinct objects is an ordered arrangement of these objects. Example: Let S = {1,2,3}. − The ordered arrangement 3,1,2 is a permutation of S. − The ordered arrangement 3,2,1 is another, DIFFERENT permutation of S. 5 Permutations Definition: A permutation of a set of distinct objects is an ordered arrangement of these objects. Example: Let S = {1,2,3}. − The ordered arrangement 3,1,2 is a permutation of S. − The ordered arrangement 3,2,1 is another, DIFFERENT permutation of S. A generic formula? 6 1, 2, 3 1, 3, 2 2, 1, 3 2, 3, 1 3, 1, 2 3, 2, 1 Permutations A permutation of a set of distinct objects is an ordered arrangement of these objects. Example: Let S = {1,2,3}. − The ordered arrangement 3,1,2 is a permutation of S. − The ordered arrangement 3,2,1 is another, DIFFERENT permutation of S. A generic formula? − Bring in the product rule − We are filling “n” boxes − First box can be filled in n different ways − Second in n-1 − and so on... − So, total number of ways is n⋅(n-1)⋅(n-2)⋅...⋅1 = n! 7 r-Permutations A permutation of a set of distinct objects is an ordered arrangement of these objects. An ordered arrangement of r elements of a set is called an r-permutation. Example: Let S = {1,2,3}. − The ordered arrangement 3,1,2 is a permutation of S. − The ordered arrangement 3,2 is a 2-permutation of S. 9 r-Permutations A permutation of a set of distinct objects is an ordered arrangement of these objects. An ordered arrangement of r elements of a set is called an r-permutation. Example: Let S = {1,2,3}. − The ordered arrangement 3,1,2 is a permutation of S. − The ordered arrangement 3,2 is a 2-permutation of S. The number of r-permutations of a set with n elements is denoted by P(n,r). − The 2-permutations of S = {1,2,3} are ? 10 r-Permutations A permutation of a set of distinct objects is an ordered arrangement of these objects. An ordered arrangement of r elements of a set is called an r-permutation. Example: Let S = {1,2,3}. − The ordered arrangement 3,1,2 is a permutation of S. − The ordered arrangement 3,2 is a 2-permutation of S. The number of r-permutations of a set with n elements is denoted by P(n,r). − The 2-permutations of S = {1,2,3} are 1,2; 1,3; 2,1; 2,3; 3,1; and 3,2. − Hence, P(3,2) = 6. 11 A Formula for the Number of r-Permutations? Let’s look at the example again: − The 2-permutations of S = {1,2,3} are 1,2; 1,3; 2,1; 2,3; 3,1; and 3,2. − Hence, P(3,2) = 6. Can we bring in the “Product Rule” again here to help us out? 12 A Formula for the Number of r-Permutations? We can think of the 2-permutation as two boxes that need to be filled: − The first box can be filled in n1 = 3 ways (any one of the three available elements in S) − The second box can now be filled in n2 = 2 ways − Now we apply product rule: number of ways these two boxes can be filled is n1⋅n2 = 6 How can we convert this into a generic formula for r-permutation from a set of n elements, i.e P(n,r) = ? 13 A Formula for the Number of r-Permutations? Theorem: If n is a positive integer and r is an integer with 1 ≤ r ≤ n, then there are P(n, r) = n⋅(n − 1)⋅(n − 2)⋅ ··· ⋅((n − r)+1) r-permutations of a set with n distinct elements. Proof: Follows from the product rule: − n ways to choose the 1st element − n-1 ways to choose the 2nd element − n-2 ways to choose the 3rd element − … − n-(r-1) = (n-r)+1 ways to choose the rth element Hence P(n,r) = n!/(n-r)! 14 A Formula for the Number of r-Permutations? 15 An r-permutation is an ordered arrangement of size r Number of r-permutations equals P(n,r) = n!/(n-r)! What happens when n=r? − this is the number of ways of permuting (ordering) n elements P(n,n) = n!/(n-n)! = n!/0! = n!/1 = n! The number of ways of permuting n elements equals n! This is a general formula, of which P(n,n) = n! is a special case. Permutations - Example 1 There are 8 runners in a race − 1st gets a gold medal − 2nd gets a silver medal − 3rd gets a bronze medal How many ways are there to award the medals? 16 Permutations - Example 1 There are 8 runners in a race − 1st gets a gold medal − 2nd gets a silver medal − 3rd gets a bronze medal How many ways are there to award the medals? − n=? − r=? 17 Permutations - Example 1 There are 8 runners in a race − 1st gets a gold medal − 2nd gets a silver medal − 3rd gets a bronze medal How many ways are there to award the medals? − n=? (the runners) − r=? (gold, silver and bronze medals) 18 Permutations - Example 1 There are 8 runners in a race − 1st gets a gold medal − 2nd gets a silver medal − 3rd gets a bronze medal How many ways are there to award the medals? − n=8 (the runners) − r=3 (gold, silver and bronze medals) P(8,3)= 8!/(8-3)! = (8⋅7⋅6⋅5⋅4⋅3⋅2⋅1)/(5⋅4⋅3⋅2⋅1) = 8⋅7⋅6 = 336 19 Permutations - Example 1 There are 8 runners in a race − 1st gets a gold medal − 2nd gets a silver medal − 3rd gets a bronze medal How many ways are there to award the medals? − n=8 (the runners) − r=3 (gold, silver and bronze medals) P(8,3)= 8!/(8-3)! = (8⋅7⋅6⋅5⋅4⋅3⋅2⋅1)/(5⋅4⋅3⋅2⋅1) = 8⋅7⋅6 = 336 20 Note: It is a permutation problem when the order of the objects is important. Permutations – Example 2 A sales person has to visit 7 cities − Aberdeen, Brighton, Coventry, Dundee, Edinburgh, London, Manchester − starting at the head office (Glasgow) and returning to the head office The sales person wishes to minimise the distance travelled How many routes must be considered to determine the shortest? 21 Permutations – Example 2 A sales person has to visit 7 cities − Aberdeen, Brighton, Coventry, Dundee, Edinburgh, London, Manchester − starting at the head office (Glasgow) and returning to the head office The sales person wishes to minimise the distance travelled How many routes must be considered to determine the shortest? The number of routes is the number of ways we can permute the seven cities (e.g. we have r=n) so there are 7! different routes − 7! = 7⋅6⋅5⋅4⋅3⋅2⋅1 = 5040 22 Permutations – Example 3 The Travelling Salesman problem: a salesman has to visit n cities and return to his base − in how many ways can he do this? − what is the numerical answer if n=20? − if a program is checking these possibilities (say to find the shortest possible tour), and if it can check 109 routes per second, how long will it take to check them all? (Make a wild guess here!) 23 Permutations – Example 3 The Travelling Salesman problem: a salesman has to visit n cities and return to his base − in how many ways can he do this? − what is the numerical answer if n=20? − if a program is checking these possibilities (say to find the shortest possible tour), and if it can check 109 routes per second, how long will it take to check them all? The answer is just the number of permutations of the n cities: n! 24 Permutations – Example 3 The Travelling Salesman problem: a salesman has to visit n cities and return to his base − in how many ways can he do this? − what is the numerical answer if n=20? − if a program is checking these possibilities (say to find the shortest possible tour), and if it can check 109 routes per second, how long will it take to check them all? 20! = 20⋅19⋅18⋅⋅⋅2⋅1 = 2,432,902,008,176,640,000 25 Permutations – Example 3 The Travelling Salesman problem: a salesman has to visit n cities and return to his base − in how many ways can he do this? − what is the numerical answer if n=20? − if a program is checking these possibilities (say to find the shortest possible tour), and if it can check 109 routes per second, how long will it take to check them all? This is given by 20!/109 seconds which is approximately 2,432,902,008 seconds or 77 years 26 Permutations – Example 4 Given a standard deck of 52 cards: − In how many unique ways can be shuffled? − If 1 billion (109) unique card shuffles are “realized” around the world each day, how long would it take before we have gone through all possible card arrangements? ? 27 Permutations – Example 4 Given a standard deck of 52 cards: − In how many unique ways can be shuffled? − If 1 billion (109) unique card shuffles are “realized” around the world each day, how long would it take before we have gone through all possible card arrangements? This is also a permutation problem: 52 unique cards to be organised in unique arrangements of size 52. So total number of permutations of 52 cards is 52! = 8.07 ⋅ 1067 28 Permutations – Example 4 Given a standard deck of 52 cards: − In how many unique ways can be shuffled? − If 1 billion (109) unique card shuffles are “realized” around the world each day, how long would it take before we have gone through all possible card arrangements? This is also a permutation problem: 52 unique cards to be organised in unique arrangements of size 52. So total number of permutations of 52 cards is 52! = 8.07 ⋅ 1067 If we are going through 109 arrangements per day, then it will take 8.07⋅1067/109 days, that is 8.07 ⋅ 1058 days … ⏳ 29 Combinations 30 Combinations Similar to permutations, only order of selected items is not relevant You can think in terms of sets: we are interested in finding how many subsets of a certain size can be created from a given, larger set. − “subset” indicates order is not important. 31 Motivating problems How many ways are there to create a team of 3 PA students, from a class size of 45? How many ways are there to create a team of 4 PA students, 2 boys and 2 girls, when there are a total of : − 25 boys − 20 girls 32 Combinations An r-combination of elements of a set is an unordered selection (or arrangement) of r elements from the set. − thus, an r-combination is simply a subset of the set with r elements − if ordering/permutations are ignored, then permutations overcount 33 Combinations An r-combination of elements of a set is an unordered selection (or arrangement) of r elements from the set. − thus, an r-combination is simply a subset of the set with r elements − if ordering/permutations are ignored, then permutations overcount The number of r-combinations of a set with n distinct elements is denoted by C(n,r) − often pronounced: n choose r − the notation ! 𝒓 is also used and is called a binomial coefficient* *Look this up for why it is called so. 34 Combinations: Example Example: Let S be the set {a, b, c, d}. Then {a, c, d} is a 3-combination from S. It is the same as {d, c, a} since the order listed does not matter. The total number of possible 2-combinations C(4,2) = 6 because the 2- combinations of {a, b, c, d} are the six subsets: {a, b}, {a, c}, {a, d}, {b, c}, {b, d}, and {c, d}. 35 A formula for the number of combinations? 36 A formula for the number of combinations? Given: S = {1,2,3} 37 A formula for the number of combinations? Given: S = {1,2,3} The number of r-permutations of a set with n elements is denoted by P(n,r). − We know its formula: P(n,r) = n!/(n-r)! − The 2-permutations of S = {1,2,3} are:\t1,2;\t\t1,3;\t\t2,1;\t\t2,3;\t\t3,1;\t\t3,2 There are however three r-Combinations, because order does not matter: − 1,2; 1,3; 2,1; 2,3;\t\t3,1; 3,2\t 38 A formula for the number of combinations? All possible permutations of a certain set of elements [e.g. {1,2} has 2 permutations: (1,2) and (2,1)] should be counted as one combination. So, we need to divide the total number of r-Permutations by the number of ways we can re- arrange r elements − i.e. permute r elements in a size of r − recall the number of ways of permuting r elements, P(r,r), equals r! Follows that the number of r-combinations of a set of size n is therefore given by C(n,r) = P(n,r)/r! = (n!/(n-r)!)/r! = n!/(r!⋅(n-r)!) 39 Combinations versus permutations P(n,r) can be constructed from C(n,r) − first generate the C(n,r) combinations (where ordering does not matter) − each combination is of size r − now permute each of the combinations (ordering now matters) − this increases the number of each combination by r! P(n,r) = C(n,r)⋅r! = (n!/(n-r)!r!) ⋅r! = n!/(n-r)! 40 Combinations The number of r-combinations of a set of size n is the same as the number of (n-r)-combinations − for an r-combination, the elements left over form an (n-r)-combination − therefore C(n,r) = C(n,n-r) Given a fixed element e from a set of size n the r-combinations of the set can split into disjoint two sets: − those that contain the element e − those that do not contain the element e 41 Combinations The number of r-combinations of a set of size n is the same as the number of (n-r)-combinations − for an r-combination, the elements left over form an (n-r)-combination − therefore C(n,r) = C(n,n-r) Given a fixed element e from a set of size n the r-combinations of the set can split into disjoint two sets: − those that contain the element e − those that do not contain the element e There are C(n-1,r-1) elements in the first set − the (r-1)-combinations from the remaining elements (of size n-1) 42 Combinations The number of r-combinations of a set of size n is the same as the number of (n-r)-combinations − for an r-combination, the elements left over form an (n-r)-combination − therefore C(n,r) = C(n,n-r) Given a fixed element e from a set of size n the r-combinations of the set can split into disjoint two sets: − those that contain the element e which is of size C(n-1,r-1) − those that do not contain the element e There are C(n-1,r) elements in the second set − the r-combinations from the remaining elements (of size n-1) 43 Combinations The number of r-combinations of a set of size n is the same as the number of (n-r)-combinations − for an r-combination, the elements left over form an (n-r)-combination − therefore C(n,r) = C(n,n-r) Given a fixed element e from a set of size n the r-combinations of the set can split into disjoint two sets: − those that contain the element e which is of size C(n-1,r-1) − those that do not contain the element e which is of size C(n-1,r) Leads to the recurrence relation: C(n,r) = C(n-1,r-1) + C(n-1,r) 44 Combinations – Example 1 We have to assemble a committee, with − 4 computer scientists − 3 mathematicians − and there are 11 computer scientists and 9 mathematicians How many ways can the committee be formed? 45 Combinations – Example 1 We have to assemble a committee, with − 4 computer scientists − 3 mathematicians − and there are 11 computer scientists and 9 mathematicians How many ways can the committee be formed? Decompose the problem into two sub-problems: − we need 4 from computing science and 11 to choose from C(n,r) = C(11,4) = 11!/(4!⋅(11-4)!) = 11!/(4!⋅7!) − we need 3 from mathematics and 9 to choose from C(n,r) = C(9,3) = 9!/(3!⋅(9-3)!) = 9!/(3!⋅6!) We need to choose from both groups, therefore the product rule applies and answer equals (11!/(4!⋅7!))⋅(9!/(3!⋅6!)) = 27,720 46 Combinations – Example 2 In how many ways can two positive integers less than 100 be chosen? − can think of this as choosing a set of size 2 47 Combinations – Example 2 In how many ways can two positive integers less than 100 be chosen? − can think of this as choosing a set of size 2 − a combination since order insignificant (a set) − number of integers equals n=99 and must choose r=2 so C(99,2) = 99!/(2!⋅(99-2)!) = 99!/(2!⋅97!) = 99⋅98/2 = 4,851 48 Combinations – Example 3 A shop has 10 men and 15 women assistants. How many ways are there to form a committee with 6 members, if it must have more women than men? Hint: Consider the possible ways the committee can be formed 49 Combinations – Example 3 A shop has 10 men and 15 women assistants. How many ways are there to form a committee with 6 members, if it must have more women than men? Consider the possible ways the committee can be formed − more women than men so at most 2 men − 2 men and 4 women, i.e. choose 2 men and 4 women: C(10,2)⋅C(15,4) − 1 man and 5 women, i.e. choose 1 man and 5 women: C(10,1)⋅C(15,5) − 0 men and 6 women, i.e. choose 6 women: C(15,6) Total: C(10,2)⋅C(15,4) + C(10,1)⋅C(15,5) + C(15,6) = 96,460 Note we have used both the product and sum rules 50 Combinations – Example 4 What is the probability that I will win the lottery this week, assuming I buy a ticket? 51 Combinations – Example 4 What is the probability that I will win the lottery this week, assuming I buy a ticket? This is an r-combination − there are 49 numbers − must choose 6 distinct numbers − C(49,6) = 49!/6!⋅43! = 49⋅48⋅47⋅46⋅45⋅44/720 = 13,983,816 Chance is approximately 1 in 14 million − assuming everything uniformly random 52 Permutations and Combinations • With repetition • With “indistinguishable elements” 54 Permutations with Repetition Theorem 1: The number of r-permutations of a set of n objects with repetition allowed is nr. Proof: There are n ways to select an element of the set for each of the r positions in the r-permutation when repetition is allowed. Hence, by the product rule there are nr r-permutations with repetition. 55 Permutations with Repetition Theorem 1: The number of r-permutations of a set of n objects with repetition allowed is nr. Proof: There are n ways to select an element of the set for each of the r positions in the r-permutation when repetition is allowed. Hence, by the product rule there are nr r-permutations with repetition. Example: How many strings of length r can be formed from the uppercase letters of the English alphabet? 56 Permutations with Repetition Theorem 1: The number of r-permutations of a set of n objects with repetition allowed is nr. Proof: There are n ways to select an element of the set for each of the r positions in the r-permutation when repetition is allowed. Hence, by the product rule there are nr r-permutations with repetition. Example: How many strings of length r can be formed from the uppercase letters of the English alphabet? Solution: The number of such strings is 26r, which is the number of r-permutations of a set with 26 elements. 57 Combinations with repetitions Select 4 pieces of fruit from a bowl that contains: − 5 apples (a), 5 pears (p) and 5 oranges (o) There are 15 combinations Note this is independent of the number of pieces of fruit in the bowl as long as there is at least 4 of each type 4a, 3a+1p, 3a+1o, 2a+2p, 2a+1p+1o 4p, 3p+1a, 3p+1o, 2p+2o, 2p+1a+1o 4o, 3o+1a, 3o+1p, 2o+2a, 2o+1a+1p 58 Combinations with repetitions Select 4 pieces of fruit from a bowl that contains: − 5 apples, 5 pears and 5 oranges We can think of this as having 3 containers − one is for apples, one is for pears, and one is for oranges − where the sum of the content of the containers has to be 4 We can draw this as “stars and bars” − we have 4 stars - one for each piece of fruit we must select − two bars - to give us the 3 containers • apples | pears | oranges • **** | | (4 apples) • ** | ** | (2 apples, 2 pears) • | * | *** (1 pear, 3 oranges) • ** | * | * (2 apples, 1 pear, 1 orange) 59 Combinations with repetitions Therefore, we consider all permutations of 4 stars and 2 bars − 6 objects hence: 6! permutations But we are over counting − the stars are indistinguishable − the bars are indistinguishable We have over counted by − the 4! permutations of the 4 stars − the 2! permutations of the 2 bars Therefore, taking the over counting into account we have − 6!/(4!⋅2!) = (6⋅5⋅4⋅3⋅2⋅1)/((4⋅3⋅2⋅1)⋅(2⋅1)) = (6⋅5)/(2⋅1) = 15 60 Combinations with repetitions Extending stars and bars to the general case… Consider r-combinations from a set of n elements with repetition − r-combinations so r stars − n elements so we need n-1 bars − number of permutations ((n-1)+r)! = (n+r-1)! − over counted by • r! as stars indistinguishable • by (n-1)! as bars indistinguishable Total number of combinations therefore equals (n+r-1)!/(r!⋅(n-1)!) = (n+r-1)!/(r!⋅((n+r-1)-r)!) since n-1 = (n+r-1)-r = C(n+r-1,r) by definition 61 Combinations with repetitions There are C(n+r-1,r) r-combinations from a set of n elements with repetition Select 4 pieces of fruit from a bowl that contains: − 5 apples, 5 pears and 5 oranges − want the number of 4-combinations (4 pieces of fruit, r=4) − from a set of three elements (apples, pears, oranges, n=3) − repetition is allowed Therefore, number of combinations equals C(3+4-1,4) = C(6,4) = 6!/(4!⋅2!) = 6⋅5⋅4⋅3⋅2⋅1/(4⋅3⋅2⋅1⋅2⋅1) = 6⋅5/2 = 15 62 Combinations with repetitions There are C(n+r-1,r) r-combinations from a set of n elements with repetition How many natural number solutions to the equation x + y + z = 11? − we are selecting 11 items from a set with 3 elements − we want sufficiently many x’s, y’s, and z’s such that they add up to 11 − an 11-combination from a set of size 3, i.e. n=3 and r=11 − answer: C(n+r-1,r) = C(13,11) = 13!/11!(13-11)! = 13!/11!2! = 78 How many natural number solutions are there to w + x + y + z = 17? − selecting 17 items from a set with 4 elements − answer: C(4+17-1,17) = C(20,17) = 1140 63 How many permutations are there of the word “success” − there are 7 letters − first guess: 7! = 5040 − but we are over counting (again) • we do not distinguish between the 3 “s”s • we do not distinguish between the 2 “c”s − we are over counting by 3! and 2! − the correct answer is 7!/(3!⋅2!) = 7⋅6⋅5⋅4/2 = 420 64 Permutations with indistinguishable objectsPermutations with indistinguishable objects The number of different permutations of n objects, where − n1 are indistinguishable − n2 are indistinguishable − … − nk are indistinguishable equals n!/(n1!⋅n2!⋅⋅⋅nk!) 65 Counting • Product rule ✅ • Sum rule and the inclusion-exclusion principle ✅ • Combining product rule and sum rule ✅ • Pigeon-hole principle ✅ • Permutations and combinations ✅ 66 Next - Probability • Introduction and motivation • Axioms of probability • Conditional probability • Bayes’ rule 67 References 1. Schneider, G. Michael, Judith Gersting, and Sara Baase. Invitation to Computer Science : Java Version (2nd Edition). 2. Goodrich, Michael T., Roberto Tamassia, and Michael H. Goldwasser. Data structures and algorithms in Java. John Wiley & Sons (5th Edition onwards). 3. Goodrich, Michael T., Roberto Tamassia, and Michael H. Goldwasser. Data structures and algorithms in Python. 4. Kent D. Lee, Steve Hubbard, Data Structures and Algorithms with Python, Springer, 2015. 5. Cormen, Thomas H., et al. Introduction to algorithms. MIT press, 2009 6. Sedgewick, Robert. Algorithms in Java, Parts 1–4 (Fundamental Algorithms, Data Structures, Sorting, Searching). Addison Wesley, 2002. 7. Discrete Mathematics & its Applications, Kenneth H. Rosen (5th, 6th, 7th or 8th Edition) +companion website 8. Gerard O'Regan, Concise Guide to Formal Methods. 9. F Oggier, Lecture Notes, Discrete Mathematics. 68 Image Credits • Unless stated otherwise, all images are royalty-free, from https://pixabay.com/ 69","libVersion":"0.3.2","langs":""}